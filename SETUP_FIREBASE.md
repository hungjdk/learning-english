# Firebase & Google Sign-In Setup Guide

This guide explains how to set up Firebase and Google Sign-In authentication for local development.

## About google-services.json

The `google-services.json` file is **committed to Git** and shared across the team. All developers must use the **same debug keystore** for this to work.

## Setup Steps for New Developers

### 1. Clone the Repository
```bash
git clone <repository-url>
cd learn_english
```

The `google-services.json` is already included - no setup needed!

### 2. Install Dependencies
```bash
flutter clean
flutter pub get
```

### 3. Run the App
```bash
flutter run
```

That's it! You should be able to:
- ✅ Sign up with email/password
- ✅ Sign in with Google account (uses shared certificate)
- ✅ See admin user on first launch (email: admin@example.com, password: admin123)

### 4. (Optional) If You Want Your Own Certificate
If you want to use your own Android debug keystore instead:

```bash
dart pub global activate flutterfire_cli
flutterfire configure --project=learning-english-7bc45
```

This will update `google-services.json` with your machine's certificate.

## Troubleshooting

### Error: "DEVELOPER_ERROR" (Code 10)
This means the certificate hash doesn't match Firebase configuration.

**Solution:** Re-run flutterfire configure:
```bash
flutterfire configure --project=learning-english-7bc45
```

### Error: "Password should be at least 6 characters"
This is expected on first app launch - the default admin user is being created with password `admin123`.

### Google Sign-In Still Not Working
1. Make sure you ran `flutterfire configure`
2. Check that `google-services.json` was created in `android/app/`
3. Run `flutter clean && flutter pub get && flutter run` again

## Files to Check

After setup, you should have:
- ✅ `android/app/google-services.json` (auto-generated by flutterfire)
- ✅ `.env` file (if using environment variables)
- ✅ Debug keystore at `~/.android/debug.keystore`

## Important Notes

- **Do NOT commit google-services.json** - it's in `.gitignore`
- Each developer needs to generate their own based on their machine's keystore
- The Firebase Console will have your SHA-1 automatically registered when you run `flutterfire configure`
- After first app launch, change the admin password from `admin123` to something secure

## Firebase Console Access

To view/manage the Firebase project:
1. Go to [Firebase Console](https://console.firebase.google.com)
2. Select project: **learning-english-7bc45**
3. Navigate to **Authentication** to see registered users
4. Navigate to **Firestore Database** to see user roles

## Getting Help

If you encounter issues:
1. Check the error messages in the console
2. Verify firebase_core and firebase_auth packages are installed
3. Run `flutter pub get` to ensure all dependencies are available
4. Delete build cache: `flutter clean`
